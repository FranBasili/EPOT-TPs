Version 4
SHEET 1 2144 720
WIRE 464 -80 464 -112
WIRE 96 0 16 0
WIRE 208 0 96 0
WIRE 768 16 720 16
WIRE 896 16 832 16
WIRE 1040 16 896 16
WIRE 464 32 464 0
WIRE 528 32 464 32
WIRE 1040 64 1040 16
WIRE 208 80 208 0
WIRE 528 80 528 32
WIRE 720 80 720 16
WIRE 896 80 896 16
WIRE 16 112 16 64
WIRE 16 112 -32 112
WIRE 96 112 96 64
WIRE 128 112 96 112
WIRE 16 144 16 112
WIRE 96 144 96 112
WIRE 96 208 16 208
WIRE 192 208 96 208
WIRE 208 208 208 144
WIRE 208 208 192 208
WIRE 720 208 720 160
WIRE 896 208 896 144
WIRE 896 208 720 208
WIRE 1040 208 1040 144
WIRE 1040 208 896 208
WIRE 1536 240 1536 224
WIRE 1584 240 1536 240
WIRE 1536 256 1536 240
WIRE 528 288 528 160
WIRE -224 304 -224 272
WIRE 672 304 576 304
WIRE 976 304 832 304
WIRE 1584 320 1536 320
WIRE 880 352 832 352
WIRE 1536 368 1536 320
WIRE 576 384 576 352
WIRE -224 432 -224 384
WIRE 528 448 528 368
WIRE 528 464 528 448
WIRE 1184 464 1120 464
WIRE 1296 464 1264 464
WIRE 1120 496 1120 464
WIRE 1296 496 1296 464
WIRE 1312 496 1296 496
WIRE 1536 496 1536 448
WIRE 1536 496 1504 496
WIRE 304 528 288 528
WIRE 336 528 304 528
WIRE 480 528 416 528
WIRE 528 544 528 512
WIRE 1312 560 1216 560
WIRE 1200 576 1120 576
WIRE 1216 576 1216 560
WIRE 1216 576 1200 576
WIRE 1536 592 1536 576
WIRE 1536 592 1504 592
WIRE 1600 592 1536 592
WIRE 1600 608 1600 592
WIRE 288 640 288 608
WIRE 336 640 288 640
WIRE 528 640 528 544
WIRE 528 640 336 640
WIRE 336 656 336 640
FLAG -224 272 +Vin
FLAG 128 112 +Vin
FLAG -32 112 -Vin
FLAG -224 432 -Vin
FLAG 336 656 0
FLAG 464 -112 0
FLAG 192 208 0
FLAG 896 208 0
FLAG 1040 16 Vo
FLAG 576 384 0
FLAG 976 384 0
FLAG 304 528 Vs
FLAG 880 352 Vs
FLAG 1600 608 0
FLAG 1536 224 Vo
FLAG 1200 576 0
SYMBOL diode 32 64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 112 64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode 112 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL diode 32 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL cap 192 80 R0
SYMATTR InstName C1
SYMATTR Value 220µ
SYMBOL voltage 288 512 R0
WINDOW 0 24 96 Left 2
WINDOW 3 -80 192 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 15 0 0.001n 0.0001n 5.076u 7.57u)
SYMBOL cap 880 80 R0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL res 432 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 47
SYMBOL res 1024 48 R0
SYMATTR InstName R2
SYMATTR Value 3.33
SYMBOL ind2 512 64 R0
SYMATTR InstName L1
SYMATTR Value 43.52m
SYMATTR Type ind
SYMBOL ind2 736 176 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 27.2µ
SYMATTR Type ind
SYMBOL voltage -224 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 300 50)
SYMBOL voltage 464 16 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 300
SYMBOL diode 768 32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value MUR460
SYMBOL nmos 480 448 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL sw 528 384 R180
SYMATTR InstName S1
SYMBOL bv 976 288 R0
SYMATTR InstName B1
SYMATTR Value V=if(I(V4)<-75u,0,1)
SYMBOL Digital\\dflop 752 256 M0
SYMATTR InstName A1
SYMBOL Optos\\4N25 1408 560 M0
SYMATTR InstName U1
SYMBOL zener 1552 320 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value 1N750
SYMBOL res 1520 480 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 1520 352 R0
SYMATTR InstName R4
SYMATTR Value 220
SYMBOL voltage 1120 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 6
SYMBOL res 1280 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL res 1568 224 R0
SYMATTR InstName R6
SYMATTR Value 1Meg
TEXT 1152 72 Left 2 !.tran 0 30000u 0 100n
TEXT 1152 -16 Left 2 !K1 L1 L2 1
TEXT 1152 24 Left 2 !.model SW SW(Ron=0.1 Roff=10Meg Vt=.5 Vh=-.4)
